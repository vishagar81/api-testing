<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:2,&quot;tests&quot;:6,&quot;passes&quot;:6,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-01-13T10:23:57.857Z&quot;,&quot;end&quot;:&quot;2020-01-13T10:24:00.506Z&quot;,&quot;duration&quot;:2649,&quot;testsRegistered&quot;:6,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;0fa10723-98ba-4799-8621-f7a565378da5&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7e496d22-6fe2-4765-b6a3-773148e3bd40&quot;,&quot;title&quot;:&quot;Direct Debit Details Service&quot;,&quot;fullFile&quot;:&quot;/Users/vishal.agarwalnationwide.co.uk/workspace/api-testing/test/direct-debit-details_test.js&quot;,&quot;file&quot;:&quot;/test/direct-debit-details_test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a 200 response, valid sortcode and account number&quot;,&quot;fullTitle&quot;:&quot;Direct Debit Details Service should return a 200 response, valid sortcode and account number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:528,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;api.post(\&quot;/sendevent\&quot;)\n    .set(\&quot;Accept\&quot;, &#x27;application/json&#x27;)\n    .send({\n        \&quot;type\&quot;: \&quot;@NBS/HOME_FTB_CASE_DDDETAILS\&quot;,\n        \&quot;payload\&quot;: {\n            \&quot;nameOnAccount\&quot;: \&quot;vishal agarwal\&quot;,\n            \&quot;accountNumber\&quot;: \&quot;00019987\&quot;,\n            \&quot;preferredPaymentDay\&quot;: \&quot;1st\&quot;,\n            \&quot;sortCode\&quot;: \&quot;070246\&quot;\n        },\n        \&quot;meta\&quot;: {\n            \&quot;applicationId\&quot;: `${applicationId}`\n        }\n    })\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .end(function(err, res){\n        console.log(\&quot;Error\&quot;, err);\n        console.log(\&quot;Error reponse\&quot;, res.body);\n        expect(res.body).to.have.property(\&quot;payload\&quot;);\n        expect(res.body.payload).to.not.equal(null);\n        \n        expect(res.body.payload).to.have.property(\&quot;validateDirectDebitDetailsResult\&quot;);\n        expect(res.body.payload.validateDirectDebitDetailsResult).to.have.property(\&quot;sortCodeAndAccountNumberCheckDecision\&quot;);\n        expect(res.body.payload.validateDirectDebitDetailsResult.sortCodeAndAccountNumberCheckDecision).to.equal(\&quot;PASS\&quot;);\n        expect(res.body.payload.validateDirectDebitDetailsResult).to.have.property(\&quot;sortCodeAndAccountNumberCheckDecisionMessage\&quot;);\n        expect(res.body.payload.validateDirectDebitDetailsResult.sortCodeAndAccountNumberCheckDecisionMessage).to.equal(\&quot;You have setup your Direct Debit.\&quot;);\n        \n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8ae5090-c6f4-4585-ba63-f3df796b1331&quot;,&quot;parentUUID&quot;:&quot;7e496d22-6fe2-4765-b6a3-773148e3bd40&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a 200 response, invalid sortcode and account number&quot;,&quot;fullTitle&quot;:&quot;Direct Debit Details Service should return a 200 response, invalid sortcode and account number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:474,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;api.post(\&quot;/sendevent\&quot;)\n    .set(\&quot;Accept\&quot;, &#x27;application/json&#x27;)\n    .send({\n        \&quot;type\&quot;: \&quot;@NBS/HOME_FTB_CASE_DDDETAILS\&quot;,\n        \&quot;payload\&quot;: {\n            \&quot;nameOnAccount\&quot;: \&quot;vishal agarwal\&quot;,\n            \&quot;accountNumber\&quot;: \&quot;00019987\&quot;,\n            \&quot;preferredPaymentDay\&quot;: \&quot;1st\&quot;,\n            \&quot;sortCode\&quot;: \&quot;070234\&quot;\n        },\n        \&quot;meta\&quot;: {\n            \&quot;applicationId\&quot;: `${applicationId}`\n        }\n    })\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .end(function(err, res){\n        // console.log(\&quot;Error\&quot;, err);\n        // console.log(\&quot;Error reponse\&quot;, res.body);\n        expect(res.body).to.have.property(\&quot;payload\&quot;);\n        expect(res.body.payload).to.not.equal(null);\n        \n        expect(res.body.payload).to.have.property(\&quot;validateDirectDebitDetailsResult\&quot;);\n        expect(res.body.payload.validateDirectDebitDetailsResult).to.have.property(\&quot;sortCodeAndAccountNumberCheckDecision\&quot;);\n        expect(res.body.payload.validateDirectDebitDetailsResult.sortCodeAndAccountNumberCheckDecision).to.equal(\&quot;SORT_CODE_FAIL\&quot;);\n        expect(res.body.payload.validateDirectDebitDetailsResult).to.have.property(\&quot;sortCodeAndAccountNumberCheckDecisionMessage\&quot;);\n        expect(res.body.payload.validateDirectDebitDetailsResult.sortCodeAndAccountNumberCheckDecisionMessage).to.equal(\&quot;Sorry, the sort code provided cannot be found. Please enter a valid sort code.\&quot;);\n        \n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40d718a0-d327-4ab4-8184-b150ae6ae24b&quot;,&quot;parentUUID&quot;:&quot;7e496d22-6fe2-4765-b6a3-773148e3bd40&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a 200 response, valid sortcode and invalid account number&quot;,&quot;fullTitle&quot;:&quot;Direct Debit Details Service should return a 200 response, valid sortcode and invalid account number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:419,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;api.post(\&quot;/sendevent\&quot;)\n    .set(\&quot;Accept\&quot;, &#x27;application/json&#x27;)\n    .send({\n        \&quot;type\&quot;: \&quot;@NBS/HOME_FTB_CASE_DDDETAILS\&quot;,\n        \&quot;payload\&quot;: {\n            \&quot;nameOnAccount\&quot;: \&quot;vishal agarwal\&quot;,\n            \&quot;accountNumber\&quot;: \&quot;01234567\&quot;,\n            \&quot;preferredPaymentDay\&quot;: \&quot;2nd\&quot;,\n            \&quot;sortCode\&quot;: \&quot;070246\&quot;\n        },\n        \&quot;meta\&quot;: {\n            \&quot;applicationId\&quot;: `${applicationId}`\n        }\n    })\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .end(function(err, res){\n        // console.log(\&quot;Error\&quot;, err);\n        // console.log(\&quot;Error reponse\&quot;, res.body);\n        expect(res.body).to.have.property(\&quot;payload\&quot;);\n        expect(res.body.payload).to.not.equal(null);\n        \n        expect(res.body.payload).to.have.property(\&quot;validateDirectDebitDetailsResult\&quot;);\n        expect(res.body.payload.validateDirectDebitDetailsResult).to.have.property(\&quot;sortCodeAndAccountNumberCheckDecision\&quot;);\n        expect(res.body.payload.validateDirectDebitDetailsResult.sortCodeAndAccountNumberCheckDecision).to.equal(\&quot;ACCOUNT_NUMBER_FAIL\&quot;);\n        expect(res.body.payload.validateDirectDebitDetailsResult).to.have.property(\&quot;sortCodeAndAccountNumberCheckDecisionMessage\&quot;);\n        expect(res.body.payload.validateDirectDebitDetailsResult.sortCodeAndAccountNumberCheckDecisionMessage).to.equal(\&quot;Sorry, the account number provided is not valid. Please enter a valid account number.\&quot;);\n        \n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c927f887-2205-4dfc-bcef-34d3d3d1300f&quot;,&quot;parentUUID&quot;:&quot;7e496d22-6fe2-4765-b6a3-773148e3bd40&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a 200 response, invalid sortcode and invalid account number&quot;,&quot;fullTitle&quot;:&quot;Direct Debit Details Service should return a 200 response, invalid sortcode and invalid account number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:477,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;api.post(\&quot;/sendevent\&quot;)\n    .set(\&quot;Accept\&quot;, &#x27;application/json&#x27;)\n    .send({\n        \&quot;type\&quot;: \&quot;@NBS/HOME_FTB_CASE_DDDETAILS\&quot;,\n        \&quot;payload\&quot;: {\n            \&quot;nameOnAccount\&quot;: \&quot;vishal agarwal\&quot;,\n            \&quot;accountNumber\&quot;: \&quot;87654321\&quot;,\n            \&quot;preferredPaymentDay\&quot;: \&quot;23rd\&quot;,\n            \&quot;sortCode\&quot;: \&quot;070212\&quot;\n        },\n        \&quot;meta\&quot;: {\n            \&quot;applicationId\&quot;: `${applicationId}`\n        }\n    })\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .end(function(err, res){\n        // console.log(\&quot;Error\&quot;, err);\n        // console.log(\&quot;Error reponse\&quot;, res.body);\n        expect(res.body).to.have.property(\&quot;payload\&quot;);\n        expect(res.body.payload).to.not.equal(null);\n        \n        expect(res.body.payload).to.have.property(\&quot;validateDirectDebitDetailsResult\&quot;);\n        expect(res.body.payload.validateDirectDebitDetailsResult).to.have.property(\&quot;sortCodeAndAccountNumberCheckDecision\&quot;);\n        expect(res.body.payload.validateDirectDebitDetailsResult.sortCodeAndAccountNumberCheckDecision).to.equal(\&quot;SORT_CODE_FAIL\&quot;);\n        expect(res.body.payload.validateDirectDebitDetailsResult).to.have.property(\&quot;sortCodeAndAccountNumberCheckDecisionMessage\&quot;);\n        expect(res.body.payload.validateDirectDebitDetailsResult.sortCodeAndAccountNumberCheckDecisionMessage).to.equal(\&quot;Sorry, the sort code provided cannot be found. Please enter a valid sort code.\&quot;);\n        \n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6042a8cb-694d-40f5-bff1-ebce2d3d0300&quot;,&quot;parentUUID&quot;:&quot;7e496d22-6fe2-4765-b6a3-773148e3bd40&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a8ae5090-c6f4-4585-ba63-f3df796b1331&quot;,&quot;40d718a0-d327-4ab4-8184-b150ae6ae24b&quot;,&quot;c927f887-2205-4dfc-bcef-34d3d3d1300f&quot;,&quot;6042a8cb-694d-40f5-bff1-ebce2d3d0300&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1898,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:25000},{&quot;uuid&quot;:&quot;5d448598-7f2b-40a5-aaf9-32ca19b07f08&quot;,&quot;title&quot;:&quot;Fraud Service&quot;,&quot;fullFile&quot;:&quot;/Users/vishal.agarwalnationwide.co.uk/workspace/api-testing/test/fraud_test.js&quot;,&quot;file&quot;:&quot;/test/fraud_test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a 200 response, valid reason and comments&quot;,&quot;fullTitle&quot;:&quot;Fraud Service should return a 200 response, valid reason and comments&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:363,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;api.post(\&quot;/sendevent\&quot;)\n    .set(\&quot;Accept\&quot;, &#x27;application/json&#x27;)\n    .send({\n        \&quot;type\&quot;: \&quot;@NBS/HOME_FTB_CASE_FRAUD\&quot;,\n        \&quot;payload\&quot;: {\n            \&quot;isAlreadyReferred\&quot;: false,\n            \&quot;reason\&quot;: \&quot;userReferral\&quot;,\n            \&quot;comments\&quot;: \&quot;Some referral comments\&quot;\n        },\n        \&quot;meta\&quot;: {\n            \&quot;applicationId\&quot;: `${applicationId}`\n        }\n    })\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .end(function(err, res){\n        console.log(\&quot;Error\&quot;, err);\n        console.log(\&quot;Error reponse\&quot;, res.body);\n        expect(res.body).to.have.property(\&quot;payload\&quot;);\n        expect(res.body.payload).to.not.equal(null);\n        \n        expect(res.body.payload).to.have.property(\&quot;comments\&quot;);\n        expect(res.body.payload.comments).to.not.equal(null);\n        expect(res.body.payload.comments).to.equal(\&quot;Some referral comments\&quot;);\n        expect(res.body.payload).to.have.property(\&quot;reason\&quot;);\n        expect(res.body.payload.reason).to.not.equal(null);\n        expect(res.body.payload.reason).to.equal(\&quot;userReferral\&quot;);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;48f0be16-ff89-459d-8760-f6d21806e7a5&quot;,&quot;parentUUID&quot;:&quot;5d448598-7f2b-40a5-aaf9-32ca19b07f08&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a 200 response, for a case marked fraud (manual)&quot;,&quot;fullTitle&quot;:&quot;Fraud Service should return a 200 response, for a case marked fraud (manual)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:378,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;api.post(\&quot;/sendevent\&quot;)\n    .set(\&quot;Accept\&quot;, &#x27;application/json&#x27;)\n    .send({\n        \&quot;type\&quot;: \&quot;@NBS/HOME_FTB_CASE_GET_FRAUD\&quot;,\n        \&quot;payload\&quot;: {},\n        \&quot;meta\&quot;: {\n            \&quot;applicationId\&quot;: `${applicationId}`\n        }\n    })\n    .expect(&#x27;Content-Type&#x27;, /json/)\n    .expect(200)\n    .end(function(err, res){\n        console.log(\&quot;Error\&quot;, err);\n        console.log(\&quot;Error reponse\&quot;, res.body);\n        expect(res.body).to.have.property(\&quot;payload\&quot;);\n        expect(res.body.payload).to.not.equal(null);\n        expect(res.body).to.have.property(\&quot;type\&quot;);\n        expect(res.body.payload).to.not.equal(\&quot;@NBS/HOME_FTB_CASE_GET_FRAUD_RESULT\&quot;);\n        \n        expect(res.body.payload).to.have.property(\&quot;comments\&quot;);\n        expect(res.body.payload.comments).to.not.equal(null);\n        expect(res.body.payload.comments).to.equal(\&quot;Some referral comments\&quot;);\n        expect(res.body.payload).to.have.property(\&quot;reason\&quot;);\n        expect(res.body.payload.reason).to.not.equal(null);\n        expect(res.body.payload.reason).to.equal(\&quot;userReferral\&quot;);\n        expect(res.body.payload).to.have.property(\&quot;requestedBy\&quot;);\n        expect(res.body.payload.requestedBy).to.not.equal(null);\n        expect(res.body.payload.requestedBy).to.equal(\&quot;QA\&quot;); // TODO: check that\n        expect(res.body.payload).to.have.property(\&quot;requesterRole\&quot;);\n        expect(res.body.payload.requesterRole).to.not.equal(null);\n        expect(res.body.payload.requesterRole).to.equal(\&quot;MC\&quot;);  // TODO: check that\n        expect(res.body.payload).to.have.property(\&quot;requestedDate\&quot;);\n        expect(res.body.payload.requestedDate).to.not.equal(null);\n        done();\n    });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b5d0bf2-d716-4c3d-a037-5c0f64743c5c&quot;,&quot;parentUUID&quot;:&quot;5d448598-7f2b-40a5-aaf9-32ca19b07f08&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;48f0be16-ff89-459d-8760-f6d21806e7a5&quot;,&quot;1b5d0bf2-d716-4c3d-a037-5c0f64743c5c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:741,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:25000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:25000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;6.2.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false},&quot;version&quot;:&quot;4.1.0&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;4.0.1&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;api-testing&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/vishal.agarwalnationwide.co.uk/workspace/api-testing/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/Users/vishal.agarwalnationwide.co.uk/workspace/api-testing/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>